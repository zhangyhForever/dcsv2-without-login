<div class="widget-body">
	<div class="widget-main padding-8">
		<div class="row">
			<div class="col-sm-4">
				<table
					class="table table-striped table-bordered table-hover nomargin-bottom">
					<tr>
						<th class="center">恶意软件类型</th>
						<th class="center">记录数</th>
					</tr>
					@if(!isEmpty(page.list)){
					   @for(item in page.list){
							<tr>
								<td class="center">
									@if(!isEmpty(item.malType)){
										${item.malType!} 
									@}else{
										其他
									@} 
								</td>
								<td class="center">
									${item.malNumber!} 
								</td>
							</tr>
						@}
					@}
				</table>
			</div>
			<div class="col-sm-8" id="virus-chart">
				<table class="table table-bordered nomargin-bottom">
					<tr>
						<td colspan="4">
							<div id="infect_chart" style="height: 400px; width: 100%;">
							</div>
						</td>
					</tr>
				</table>
			</div>
		</div>
	</div>
</div>
<div class="space-8"></div>
<script type="text/javascript">
//  pie()
 </script>
<script type="text/javascript">
     //function initChartPie(){
     var myChart = echarts.init(document.getElementById('infect_chart'));
		var option = {
		    title : {
		        text: '恶意软件类型分布/统计',
		        subtext: '',
		        x:'center',
				left: '43%',
		        textStyle : {
		        	color : 'white'
		        }
		    },
		    tooltip : {
		        trigger: 'item',
		        formatter: "{a} <br/>{b} : {c} ({d}%)",
				left : '5%',
		    },
		    legend: {
		        orient: 'vertical',
		        left: '5%',
		        data: ${arrhead!},
		        textStyle : {
	            	color : 'white'
	            },/* ['直接访问','邮件营销','联盟广告','视频广告','搜索引擎'] */
		    },
		    series : [
		        {
		            name: '统计总数',
		            type: 'pie',
		            radius : '55%',
		            center: ['55%', '60%'],
		            data: ${arrdata!},
		            /* [
		                {value:335, name:'直接访问'},
		                {value:310, name:'邮件营销'},
		                {value:234, name:'联盟广告'},
		                {value:135, name:'视频广告'},
		                {value:1548, name:'搜索引擎'}
		             ], */
		            itemStyle: {
		                emphasis: {
		                    shadowBlur: 10,
		                    shadowOffsetX: 0,
		                    shadowColor: 'rgba(0, 0, 0, 0.5)'
		                }
		            }
		        }
		    ]
		};
		// 使用刚指定的配置项和数据显示图表。
				myChart.setOption(option);
		//}

	/* if(${arrdata!}.length==0){
		$("#gryhbb_chart").html("<div style='text-align:center;margin-top:20px;color:#cfcfcf'>暂无数据</div>");
	}else{
		initChartPie();
	} */			

			
        
    </script>
@if(!isEmpty(pageInfo)){
<#paginate page="${pageInfo}" formId="gryhbb-search-form"/>
@}